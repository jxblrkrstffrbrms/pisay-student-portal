<ion-content [fullscreen]="true">
    
    <h1 class="header">My Activities</h1>

    <!-- Add Activity Form -->
    <ion-card>
        <ion-card-content>
            <ion-item>
                <ion-input 
                    [(ngModel)]="newActivity.title" 
                    label="Activity Title" 
                    labelPlacement="floating" 
                    placeholder="Enter activity title">
                </ion-input>
            </ion-item>
            <ion-item>
                <ion-textarea 
                    [(ngModel)]="newActivity.description" 
                    label="Description" 
                    labelPlacement="floating" 
                    placeholder="Enter activity description">
                </ion-textarea>
            </ion-item>
            <ion-item>
                <ion-datetime-button datetime="deadline"></ion-datetime-button>
                <ion-modal [keepContentsMounted]="true">
                    <ng-template>
                        <ion-datetime 
                            id="deadline" 
                            [(ngModel)]="newActivity.deadline"
                            presentation="date-time"
                            [showDefaultButtons]="true">
                        </ion-datetime>
                    </ng-template>
                </ion-modal>
            </ion-item>
            <ion-button expand="block" (click)="addActivity()">Add Activity</ion-button>
        </ion-card-content>
    </ion-card>

    <h1 class="header2">Pending Activities</h1>

    <!-- Pending Activities List -->
    <ion-list>
        <ion-item-sliding *ngFor="let activity of pendingActivities">
            <ion-item>
                <ion-card style="width: 100%">
                    <ion-card-header>
                        <ion-card-title>{{ activity.title }}</ion-card-title>
                        <ion-card-subtitle>
                            Due: {{ activity.deadline | date:'medium' }}
                        </ion-card-subtitle>
                    </ion-card-header>
                    <ion-card-content>
                        <p>{{ activity.description }}</p>
                        <ion-badge 
                            [color]="getDueDateColor(activity.deadline)"
                            style="margin-top: 10px">
                            {{ getTimeRemaining(activity.deadline) }}
                        </ion-badge>
                    </ion-card-content>
                </ion-card>
            </ion-item>
            <ion-item-options side="end">
                <ion-item-option color="success" (click)="markAsComplete(activity.id)">
                    <ion-icon slot="icon-only" name="checkmark"></ion-icon>
                </ion-item-option>
                <ion-item-option color="danger" (click)="deleteActivity(activity.id)">
                    <ion-icon slot="icon-only" name="trash"></ion-icon>
                </ion-item-option>
            </ion-item-options>
        </ion-item-sliding>
    </ion-list>
</ion-content>
